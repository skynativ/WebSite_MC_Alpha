tinymce.PluginManager.add("emoticons", function (e, t) {
    function n() {
        var e;
        return e = '<table role="list" class="mce-grid">', tinymce.each(r, function (n) {
            e += "<tr>", tinymce.each(n, function (n) {
                var r = t + "/img/" + n + ".png";
                e += '<td><a href="#" data-mce-url="' + r + '" data-mce-alt="' + n + '" tabindex="-1" role="option" aria-label="' + n + '"><img src="' + r + '" style="width: 18px; height: 18px" role="presentation" /></a></td>'
            }), e += "</tr>"
        }), e += "</table>"
    }

    //var r = [["cool", "cry", "embarassed", "foot-in-mouth"], ["frown", "innocent", "kiss", "laughing"], ["money-mouth", "sealed", "smile", "surprised"], ["tongue-out", "undecided", "wink", "yell"]];
    var r = [
        ["1f600", "1f601", "1f602", "1f603", "1f604", "1f605", "1f606", "1f607", "1f608", "1f609", "1f610", "1f611", "1f612", "1f613", "1f614", "1f615", "1f616", "1f617", "1f618", "1f619", "1f620", "1f621", "1f622", "1f623", "1f624", "1f625", "1f626"],
        ["1f627", "1f628", "1f629", "1f630", "1f631", "1f632", "1f633", "1f634", "1f635", "1f636", "1f637", "1f638", "1f639", "1f640", "2665", "1f49a", "1f49b", "1f49c", "1f499", "2705", "274e", "1f4af", "1f4a9", "1f3b5"],
        ["1f1eb-1f1f7", "1f1e7-1f1ea",  "1f1e8-1f1ed", "1f1f1-1f1fa", "1f1e9-1f1ea", "1f1ea-1f1f8", "1f1ec-1f1e7", "1f1ee-1f1f9", "1f1e8-1f1e6", "1f1ef-1f1f5", "1f1f0-1f1f7", "1f1f7-1f1fa", "1f1fa-1f1f8"],
        ["30-20e3", "31-20e3", "32-20e3", "33-20e3", "34-20e3", "35-20e3", "36-20e3", "37-20e3", "38-20e3", "39-20e3"],
        ["1f1e6", "1f1e7", "1f1e8", "1f1e9", "1f1ea", "1f1eb", "1f1ec", "1f1ed", "1f1ee", "1f1ef", "1f1f0", "1f1f1", "1f1f2", "1f1f3", "1f1f4", "1f1f5", "1f1f6", "1f1f7", "1f1f8", "1f1f9", "1f1fa", "1f1fb", "1f1fc", "1f1fd", "1f1fe", "1f1ff"]
    ];
    e.addButton("emoticons", {
        type: "panelbutton",
        panel: {
            role: "application", autohide: !0, html: n, onclick: function (t) {
                var n = e.dom.getParent(t.target, "a");
                n && (e.insertContent('<img class="smile" src="' + n.getAttribute("data-mce-url") + '" alt="' + n.getAttribute("data-mce-alt") + '" />'), this.hide())
            }
        },
        tooltip: "Emoticons"
    })
});